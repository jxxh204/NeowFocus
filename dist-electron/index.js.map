{"version":3,"file":"index.js","sources":["../src/preload/index.ts"],"sourcesContent":["import { contextBridge, ipcRenderer } from 'electron'\nimport { electronAPI } from '@electron-toolkit/preload'\n\n// Custom APIs for renderer\nconst api = {}\nconst message = {\n  send: function (action, args) {\n    ipcRenderer.send(action, args)\n  },\n  receive: (channel, callback) => ipcRenderer.on(channel, (_event, value) => callback(value))\n}\n\nconst windowAPI = {\n  windowMove: (deltaX: number, deltaY: number) => {\n    ipcRenderer.send('window-move', { deltaX, deltaY })\n  },\n  setWindowPosition: (x: number, y: number) => {\n    ipcRenderer.send('window-set-position', { x, y })\n  },\n  getWindowPosition: () => {\n    return ipcRenderer.invoke('window-get-position')\n  }\n}\n\n// Use `contextBridge` APIs to expose Electron APIs to\n// renderer only if context isolation is enabled, otherwise\n// just add to the DOM global.\nif (process.contextIsolated) {\n  try {\n    contextBridge.exposeInMainWorld('electron', { ...electronAPI, ...windowAPI })\n    contextBridge.exposeInMainWorld('api', api)\n    contextBridge.exposeInMainWorld('message', message)\n  } catch (error) {\n    console.error(error)\n  }\n} else {\n  // @ts-ignore (define in dts)\n  window.electron = { ...electronAPI, ...windowAPI }\n  // @ts-ignore (define in dts)\n  window.api = api\n}\n"],"names":["ipcRenderer","contextBridge","electronAPI"],"mappings":";;;AAIA,MAAM,MAAM,CAAA;AACZ,MAAM,UAAU;AAAA,EACd,MAAM,SAAU,QAAQ,MAAM;AAC5BA,yBAAY,KAAK,QAAQ,IAAI;AAAA,EAC/B;AAAA,EACA,SAAS,CAAC,SAAS,aAAaA,qBAAY,GAAG,SAAS,CAAC,QAAQ,UAAU,SAAS,KAAK,CAAC;AAC5F;AAEA,MAAM,YAAY;AAAA,EAChB,YAAY,CAAC,QAAgB,WAAmB;AAC9CA,aAAAA,YAAY,KAAK,eAAe,EAAE,QAAQ,QAAQ;AAAA,EACpD;AAAA,EACA,mBAAmB,CAAC,GAAW,MAAc;AAC3CA,aAAAA,YAAY,KAAK,uBAAuB,EAAE,GAAG,GAAG;AAAA,EAClD;AAAA,EACA,mBAAmB,MAAM;AACvB,WAAOA,SAAAA,YAAY,OAAO,qBAAqB;AAAA,EACjD;AACF;AAKA,IAAI,QAAQ,iBAAiB;AAC3B,MAAI;AACFC,aAAAA,cAAc,kBAAkB,YAAY,EAAE,GAAGC,QAAAA,aAAa,GAAG,WAAW;AAC5ED,2BAAc,kBAAkB,OAAO,GAAG;AAC1CA,2BAAc,kBAAkB,WAAW,OAAO;AAAA,EACpD,SAAS,OAAO;AACd,YAAQ,MAAM,KAAK;AAAA,EACrB;AACF,OAAO;AAEL,SAAO,WAAW,EAAE,GAAGC,QAAAA,aAAa,GAAG,UAAA;AAEvC,SAAO,MAAM;AACf;"}